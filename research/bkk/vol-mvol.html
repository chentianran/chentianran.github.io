<!DOCTYPE html>
<meta charset="utf-8">
<title>Convex Hull</title>
<style>

rect {
  fill: none;
}

.hull {
  fill: steelblue;
  stroke: steelblue;
  stroke-width: 10px;
  stroke-linejoin: round;
}

.outline {
  fill: none;
  stroke: black;
  stroke-width: 3px;
  stroke-linejoin: round;
}

circle {
  fill: white;
  stroke: black;
  stroke-width: 1.5px;
}

</style>
<body>
    <input type="range" min="80" max="180" value="80" id="scale">
<script src="//d3js.org/d3.v3.min.js"></script>
<script>

var width = 960;
var height = 600;
var orig_x = 20;
var orig_y = height - 20;


d3.select("#scale").on("input", function() { update(+this.value); });

var A = [
    [200,   0],
    [200, 200],
    [  0, 200]
]

var B = [
    [100,200],
    [200,100],
    [0,0],
]

var pts = [
    [0,0],
    [0,0],
    [0,0],
    [0,0],
    [0,0],
    [0,0]
]

var svg = d3.select("body").append("svg")
    .attr("width", width)
    .attr("height", height);

svg.append("rect")
    .attr("width", width)
    .attr("height", height);

var hull = svg.append("path").attr("class", "hull");
var A_outline = svg.append("path").attr("class", "outline");
var B_outline = svg.append("path").attr("class", "outline");

var circle = svg.selectAll("circle");


update(80);
redraw();

function update (scale) {
    var v = scale / 100;
    pts[0] = [ orig_x + v * B[0][0], orig_y - v * B[0][1] ];
    pts[1] = [ orig_x + v * B[1][0], orig_y - v * B[1][1] ];
    pts[2] = [ orig_x + v * B[2][0], orig_y - v * B[2][1] ];
    pts[3] = [ orig_x +     A[0][0], orig_y -     A[0][1] ];
    pts[4] = [ orig_x +     A[1][0], orig_y -     A[1][1] ];
    pts[5] = [ orig_x +     A[2][0], orig_y -     A[2][1] ];
    redraw();
}

function redraw() {
    hull.datum(d3.geom.hull(pts)).attr("d", function(d) { return "M" + d.join("L") + "Z"; });
    A_outline.datum(pts.slice(2,6)).attr("d", function(d) { return "M" + d.join("L") + "Z"; });
    B_outline.datum(pts.slice(0,3)).attr("d", function(d) { return "M" + d.join("L") + "Z"; });
    circle = circle.data(pts);
    circle.enter().append("circle").attr("r", 3);
    circle.attr("transform", function(d) { return "translate(" + d + ")"; });
}

</script>